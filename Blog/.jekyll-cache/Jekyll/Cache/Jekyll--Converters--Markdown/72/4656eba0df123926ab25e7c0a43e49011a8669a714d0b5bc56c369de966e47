I"˜@<p>é™¤äº†æ ¸å¿ƒåŠŸèƒ½é»˜è®¤å†…ç½®çš„æŒ‡ä»¤ (v-model å’Œ v-show)ï¼ŒVue ä¹Ÿå…è®¸æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤ã€‚æ³¨æ„ï¼Œåœ¨ Vue2.0 ä¸­ï¼Œä»£ç å¤ç”¨å’ŒæŠ½è±¡çš„ä¸»è¦å½¢å¼æ˜¯ç»„ä»¶ã€‚ç„¶è€Œï¼Œæœ‰çš„æƒ…å†µä¸‹ï¼Œä½ ä»ç„¶éœ€è¦å¯¹æ™®é€š DOM å…ƒç´ è¿›è¡Œåº•å±‚æ“ä½œï¼Œè¿™æ—¶å€™å°±ä¼šç”¨åˆ°è‡ªå®šä¹‰æŒ‡ä»¤</p>

<h4 id="vueå¸¸ç”¨çš„æŒ‡ä»¤">vueå¸¸ç”¨çš„æŒ‡ä»¤</h4>
<ul>
  <li>v-text:ç›¸å½“äºinnerText</li>
  <li>v-html:ç›¸å½“äºinnerHTML</li>
  <li>v-forï¼šå¾ªç¯éå†å¯¹è±¡æˆ–æ•°ç»„
    <ul>
      <li>v-for=â€item in arrâ€æˆ–v-for=â€item in objâ€</li>
      <li>v-for=â€(item,index) in arrâ€</li>
      <li>v-for=â€(value,key,index) in objâ€</li>
    </ul>
  </li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ul&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">v-for=</span><span class="s">"item in arr"</span><span class="nt">&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;/ul&gt;</span>
        <span class="nt">&lt;hr&gt;</span>
        <span class="nt">&lt;ul&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">v-for=</span><span class="s">"(item,index) in arr"</span><span class="nt">&gt;</span>=&gt;<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;/ul&gt;</span>
        <span class="nt">&lt;hr&gt;</span>
        <span class="nt">&lt;ul&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">v-for=</span><span class="s">"item in obj"</span><span class="nt">&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;/ul&gt;</span>
        <span class="nt">&lt;hr&gt;</span>
        <span class="nt">&lt;ul&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">v-for=</span><span class="s">"(item,key,index) in obj"</span><span class="nt">&gt;</span>=&gt;:<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;script&gt;</span>
        <span class="kd">var</span> <span class="nx">vm</span><span class="o">=</span><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
            <span class="na">el</span><span class="p">:</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:{</span>
                <span class="na">arr</span><span class="p">:[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">],</span>
                <span class="na">obj</span><span class="p">:{</span>
                    <span class="na">a</span><span class="p">:</span><span class="dl">"</span><span class="s2">xiao</span><span class="dl">"</span><span class="p">,</span>
                    <span class="na">b</span><span class="p">:</span><span class="dl">"</span><span class="s2">hong</span><span class="dl">"</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">})</span>
    <span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<ul>
  <li>v-ifâ€¦.v-else-ifâ€¦.v-else:å†³å®šæ˜¯å¦æ’å…¥å…ƒç´ </li>
  <li>v-show:éšè—å…ƒç´ ï¼Œå®é™…ä¸Šæ˜¯æ“ä½œdisplay</li>
  <li>v-bind:å°†å±æ€§ä¸æŸä¸ªå˜é‡æˆ–å¸¸é‡ç»‘å®šï¼Œç®€å†™â€˜ï¼šâ€™</li>
  <li>v-model:åŒå‘æ•°æ®ç»‘å®šï¼Œä¸€èˆ¬ç”¨åœ¨è¡¨å•ä¸­</li>
  <li>v-on:ä¸ºå…ƒç´ ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œç®€å†™â€˜@â€™</li>
</ul>

<h4 id="è‡ªå®šä¹‰æŒ‡ä»¤">è‡ªå®šä¹‰æŒ‡ä»¤</h4>

<ul>
  <li>
    <p>æ³¨å†Œä¸€ä¸ªå…¨å±€æŒ‡ä»¤ï¼ŒVue.directive()
<img src="/public/images/vue2_1.png" class="img_man" /></p>
  </li>
  <li>
    <p>æ³¨å†Œä¸€ä¸ªå±€éƒ¨æŒ‡ä»¤</p>
  </li>
</ul>

<p><img src="/public/images/vue2_2.png" class="img_man" /></p>

<h4 id="é’©å­å‡½æ•°å¯¹åº”æŒ‡ä»¤çš„äº”ä¸ªç”Ÿå‘½å‘¨æœŸ">é’©å­å‡½æ•°å¯¹åº”æŒ‡ä»¤çš„äº”ä¸ªç”Ÿå‘½å‘¨æœŸ</h4>

<ul>
  <li>bind: åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ï¼Œç”¨è¿™ä¸ªé’©å­å‡½æ•°å¯ä»¥å®šä¹‰ä¸€ä¸ªåœ¨ç»‘å®šæ—¶æ‰§è¡Œä¸€æ¬¡çš„åˆå§‹åŒ–åŠ¨ä½œã€‚</li>
  <li>inserted: è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ï¼ˆçˆ¶èŠ‚ç‚¹å­˜åœ¨å³å¯è°ƒç”¨ï¼Œä¸å¿…å­˜åœ¨äº document ä¸­ï¼‰</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nt">&lt;script&gt;</span>
        <span class="kd">var</span> <span class="nx">app</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">div</span><span class="dl">"</span><span class="p">)</span>
        <span class="nx">app</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">);</span>
       <span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">p</span><span class="dl">"</span><span class="p">);</span>
       <span class="kd">var</span> <span class="nx">span</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">span</span><span class="dl">"</span><span class="p">);</span>
       <span class="nx">span</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">"</span><span class="s2">v-name</span><span class="dl">"</span><span class="p">,</span><span class="dl">""</span><span class="p">);</span>
        <span class="nx">p</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">span</span><span class="p">);</span>
        <span class="nx">app</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">vm</span><span class="o">=</span><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
            <span class="na">el</span><span class="p">:</span><span class="nx">app</span><span class="p">,</span>
            <span class="na">directives</span><span class="p">:{</span>
                <span class="na">name</span><span class="p">:{</span>
                    <span class="na">bind</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">æŒ‡ä»¤çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸ</span><span class="dl">"</span><span class="p">);</span>
                    <span class="p">},</span>
                    <span class="na">inserted</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ï¼Œä¸ç®¡çˆ¶èŠ‚ç‚¹æ˜¯å¦åœ¨domæ–‡æ¡£ä¸­</span><span class="dl">"</span><span class="p">)</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">})</span>
    <span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<ul>
  <li>update: è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨çš„æ¨¡æ¿æ›´æ–°æ—¶è°ƒç”¨ï¼Œè€Œä¸è®ºç»‘å®šå€¼æ˜¯å¦å˜åŒ–</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;p</span> <span class="na">v-name</span><span class="nt">&gt;</span>æˆ‘æ˜¯pæ ‡ç­¾<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">v-model=</span><span class="s">"m"</span><span class="nt">&gt;</span>
       
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;script&gt;</span>
        <span class="kd">var</span> <span class="nx">vm</span><span class="o">=</span><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
            <span class="na">el</span><span class="p">:</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:{</span>
                <span class="na">m</span><span class="p">:</span><span class="dl">"</span><span class="s2">true</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="na">directives</span><span class="p">:{</span>
                <span class="na">name</span><span class="p">:{</span>
                    <span class="na">bind</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">æŒ‡ä»¤çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸ</span><span class="dl">"</span><span class="p">);</span>
                    <span class="p">},</span>
                    <span class="na">inserted</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ï¼Œä¸ç®¡çˆ¶èŠ‚ç‚¹æ˜¯å¦åœ¨domæ–‡æ¡£ä¸­</span><span class="dl">"</span><span class="p">)</span>
                    <span class="p">},</span>
                    <span class="na">update</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">å½“è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨æ¨¡æ¿æ›´æ–°æ—¶è°ƒç”¨</span><span class="dl">"</span><span class="p">);</span>
                    <span class="p">},</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">})</span>
    <span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<ul>
  <li>componentUpdated: è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨æ¨¡æ¿å®Œæˆä¸€æ¬¡æ›´æ–°å‘¨æœŸæ—¶è°ƒç”¨ã€‚</li>
</ul>

<p><img src="/public/images/vue2_3.png" class="img_man" /></p>

<ul>
  <li>unbind: åªè°ƒç”¨ä¸€æ¬¡ï¼Œ æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</li>
</ul>

<h4 id="é’©å­å‡½æ•°çš„å‚æ•°">é’©å­å‡½æ•°çš„å‚æ•°</h4>

<ul>
  <li>el: æŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥ç›´æ¥æ“ä½œ DOM ã€‚</li>
  <li>binding:ä¸€ä¸ªå¯¹è±¡
    <ul>
      <li>name: æŒ‡ä»¤åï¼Œä¸åŒ…æ‹¬ v- å‰ç¼€ã€‚</li>
      <li>valueï¼šæŒ‡ä»¤çš„ç»‘å®šå€¼,ä¾‹å¦‚ï¼š v-my-directive=â€1 + 1â€, value çš„å€¼æ˜¯ 2ã€‚</li>
      <li>oldValue: æŒ‡ä»¤ç»‘å®šçš„å‰ä¸€ä¸ªå€¼ï¼Œä»…åœ¨ update å’Œ componentUpdated é’©å­ä¸­å¯ç”¨ã€‚æ— è®ºå€¼æ˜¯å¦æ”¹å˜éƒ½å¯ç”¨ã€‚</li>
      <li>expression: ç»‘å®šå€¼çš„è¡¨è¾¾å¼æˆ–å˜é‡åã€‚ ä¾‹å¦‚ v-my-directive=â€1 + 1â€ ï¼Œ expression çš„å€¼æ˜¯ â€œ1 + 1â€ã€‚</li>
      <li>arg: ä¼ ç»™æŒ‡ä»¤çš„å‚æ•°ã€‚ä¾‹å¦‚ v-my-directive:fooï¼Œ arg çš„å€¼æ˜¯ â€œfooâ€ã€‚</li>
      <li>modifiers: ä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ã€‚ ä¾‹å¦‚ï¼š v-my-directive.foo.bar, ä¿®é¥°ç¬¦å¯¹è±¡ modifiers çš„å€¼æ˜¯ { foo: true, bar: true }</li>
    </ul>
  </li>
  <li>vnode: Vue ç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ã€‚</li>
  <li>oldVnode: ä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨ update å’Œ componentUpdated é’©å­ä¸­å¯ç”¨ã€‚</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;p</span> <span class="na">v-name:html.a.b=</span><span class="s">"m"</span><span class="nt">&gt;</span>æˆ‘æ˜¯pæ ‡ç­¾<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">v-model=</span><span class="s">"m"</span><span class="nt">&gt;</span>
       
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;script&gt;</span>
        <span class="kd">var</span> <span class="nx">vm</span><span class="o">=</span><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
            <span class="na">el</span><span class="p">:</span><span class="dl">"</span><span class="s2">#app</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:{</span>
                <span class="na">m</span><span class="p">:</span><span class="dl">"</span><span class="s2">true</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="na">directives</span><span class="p">:{</span>
                <span class="na">name</span><span class="p">:{</span>
                    <span class="na">inserted</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span><span class="nx">binding</span><span class="p">,</span><span class="nx">vnode</span><span class="p">){</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">name:</span><span class="dl">"</span><span class="p">,</span><span class="nx">binding</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">value:</span><span class="dl">"</span><span class="p">,</span><span class="nx">binding</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">expression:</span><span class="dl">"</span><span class="p">,</span><span class="nx">binding</span><span class="p">.</span><span class="nx">expression</span><span class="p">);</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">arg:</span><span class="dl">"</span><span class="p">,</span><span class="nx">binding</span><span class="p">.</span><span class="nx">arg</span><span class="p">);</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">modifiers:</span><span class="dl">"</span><span class="p">,</span><span class="nx">binding</span><span class="p">.</span><span class="nx">modifiers</span><span class="p">);</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">vnode</span><span class="p">)</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>

        <span class="p">})</span>
    <span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h4 id="è‡ªå®šä¹‰æŒ‡ä»¤çœç•¥é’©å­å‡½æ•°">è‡ªå®šä¹‰æŒ‡ä»¤çœç•¥é’©å­å‡½æ•°</h4>
<p><img src="/public/images/vue2_4.png" class="img_man" /></p>
:ET